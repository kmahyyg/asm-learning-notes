# 实验 7 Quiz 2 参考： 80×25 彩色字符模式显示缓冲区结构

## 显示缓冲区

内存地址空间中 B8000H～BFFFFH 共计 32KB 的空间，为 80×25 彩色字符模式的显示缓冲区。此区域中写入的内容会被立即呈现在显示器上。

在 80×25 彩色字符模式 下，显示器可以显示 25 行，每行 80 个字符，每个字符可以有 256 种属性（背景色、前景色、闪烁、高亮等）。

一个字符在这个模式下占用 2 Bytes，存放字符的 ASCII 码和属性。一屏内容在显示缓冲区中共占用 4000 Bytes.

显示缓冲区分为 8 页，每页 4 KB，显示器可以显示任何一页的内容，一般情况下显示第 0 页的内容。等价于，通常情况下 B8000H~B8F9FH 中的 4000 个字节的内容将首先显示在显示器上。

## 显示缓冲区偏移

在一页显示缓冲区中, **偏移 000~09F 对应第一行 （每行 80 个字符占用 160 字节）** ，剩余的依次类推。低位字节存储 ASCII 码，高位字节存储字符属性。

即在一行中： **偏移 00~01 对应显示器第一列** ，剩余的依次类推。即偶地址存放字符，奇地址存放字符的颜色属性。

## 字符的颜色属性

| Address Bit | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
|:-----------:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 含义 | BL(闪烁) | R(背景色) | G(背景色) | B(背景色) | Highlight(高亮) | R(前景色) | G(前景色) | B(前景色) |

## 闪烁效果

必须在全屏 DOS 方式才能看到。
